(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[800],{1083:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shop",function(){return n(9666)}])},6410:function(e,r,n){"use strict";var t=n(5893);n(7294);r.Z=function(e){var r=e.fullScreen,n=void 0!==r&&r;return(0,t.jsx)("div",{className:" ".concat(n?"h-screen":"h-full"," h-full flex justify-center items-center "),children:(0,t.jsxs)("div",{className:"flex flex-col justify-center items-center w-full h-full min-h-48 text-primary",children:[(0,t.jsx)("div",{className:"flex items-center justify-center space-x-2 animate-bounce",children:(0,t.jsx)("div",{className:"spinner-border animate-spin inline-block w-12 h-12 border-4 border-t-white rounded-full",role:"status"})}),(0,t.jsx)("div",{className:" animate-ping ",children:"loading ..."})]})})}},1135:function(e,r,n){"use strict";var t=n(5893),i=(n(7294),n(1664)),a=n(6893),o=n(9583),c=n(570),s=n(4708),u=n(2645),l=n(2748);function d(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function f(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,i,a=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(t=n.next()).done)&&(a.push(t.value),!r||a.length!==r);o=!0);}catch(s){c=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(c)throw i}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return d(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.Z=function(e){var r=e.product,n=(0,c.r)().currency,d=f((0,u.K1)(),2),v=d[0].favorite,h=d[1];return(0,t.jsxs)("div",{className:"relative border border-grey text-center justify-center items-center p-2 m-2",children:[(0,t.jsx)(i.default,{href:"/product/".concat(r.slug),children:(0,t.jsx)("div",{className:"w-full cursor-pointer",children:(0,t.jsx)("img",{src:null===r||void 0===r?void 0:r.image,className:"w-full h-auto"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:" text-sm font-bold w-full h-11 flex justify-center items-center",children:(0,t.jsx)("p",{children:r.name})}),(0,t.jsx)("span",{children:"".concat(r.price," ").concat(n)})]}),(0,t.jsx)("div",{children:(0,t.jsx)("span",{onClick:function(){return e=r,void h({type:l.s$,payload:e});var e},className:" absolute -top-1 -left-1 text-red cursor-pointer hover:animate-pulse drop-shadow-lg shadow-white",children:v.find((function(e){return e.id===r.id}))?(0,t.jsx)(o.$0H,{size:16}):(0,t.jsx)(a.$aX,{size:16})})}),(0,t.jsx)("div",{children:(0,t.jsx)(s.Z,{onClick:function(){return e=r,void h({type:l.G2,payload:e});var e},size:"md",children:"Add to cart"})})]})}},6593:function(e,r,n){"use strict";var t=n(4051),i=n.n(t),a=n(9669),o=n.n(a),c=n(3072);function s(e,r,n,t,i,a,o){try{var c=e[a](o),s=c.value}catch(u){return void n(u)}c.done?r(s):Promise.resolve(s).then(t,i)}function u(e){return function(){var r=this,n=arguments;return new Promise((function(t,i){var a=e.apply(r,n);function o(e){s(a,t,i,o,c,"next",e)}function c(e){s(a,t,i,o,c,"throw",e)}o(void 0)}))}}function l(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var d=function(){function e(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e)}var r,n,t;return r=e,t=[{key:"getAll",value:function(){return u(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o().get(c.j.brand.all).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})))()}},{key:"getBySlug",value:function(e){return u(i().mark((function r(){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",o().get("".concat(c.j.brand.bySlug,"/").concat(e)).then((function(e){return e.data})));case 1:case"end":return r.stop()}}),r)})))()}}],(n=null)&&l(r.prototype,n),t&&l(r,t),e}();r.Z=d},2749:function(e,r,n){"use strict";n.d(r,{N:function(){return a}});var t=n(8767),i=n(6593),a=function(){var e=(0,t.useQuery)("brands",(function(){return i.Z.getAll()}));return{data:e.data,isLoading:e.isLoading,isError:e.isError}}},9666:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return z}});var t=n(4051),i=n.n(t),a=n(5893),o=n(7294),c=n(2553),s=n(2749),u=n(6893),l=n(5675);function d(e){var r=e.selected,n=e.onSelect,t=e.brand;return(0,a.jsxs)("div",{onClick:function(){return n(t)},className:"flex items-center justify-between p-2 cursor-pointer bg-white hover:bg-lightgreyx2 rounded-5 transition-all hover:font-bold",children:[(0,a.jsxs)("div",{className:"flex items-center justify-start",children:[(0,a.jsx)("div",{className:"pr-2",children:(0,a.jsx)(l.default,{src:"".concat(null===t||void 0===t?void 0:t.image),layout:"fixed",width:30,height:30,alt:null===t||void 0===t?void 0:t.name,className:"rounded-full"})}),(0,a.jsx)("span",{children:t.name})]}),(0,a.jsx)("div",{className:"p-2",children:r?(0,a.jsx)(u._rq,{size:20,color:"green"}):(0,a.jsx)(u.Q8x,{size:20})})]})}function f(e){var r=e.selectedBrands,n=e.onSelect,t=(0,s.N)().data;return(0,a.jsx)("div",{className:" max-h-52 overflow-auto",children:null===t||void 0===t?void 0:t.map((function(e){return(0,a.jsx)(d,{onSelect:n,brand:e,selected:!!(null===r||void 0===r?void 0:r.find((function(r){return(null===r||void 0===r?void 0:r.id)===(null===e||void 0===e?void 0:e.id)})))},e.id)}))})}var v=n(5997);function h(e){var r=e.selected,n=e.onSelect,t=e.category;return(0,a.jsxs)("div",{onClick:function(){return n(t)},className:"flex items-center justify-between p-2 cursor-pointer bg-white hover:bg-lightgreyx2 rounded-5 transition-all hover:font-bold",children:[(0,a.jsxs)("div",{className:"flex items-center justify-start",children:[(0,a.jsx)("div",{className:"pr-2",children:(0,a.jsx)(l.default,{src:"".concat(null===t||void 0===t?void 0:t.image),layout:"fixed",width:30,height:30,alt:null===t||void 0===t?void 0:t.name,className:"rounded-full"})}),(0,a.jsx)("span",{children:t.name})]}),(0,a.jsx)("div",{className:"p-2",children:r?(0,a.jsx)(u._rq,{size:20,color:"green"}):(0,a.jsx)(u.Q8x,{size:20})})]})}function m(e){var r=e.selectedCategories,n=e.onSelect,t=(0,v.L)().data;return(0,a.jsx)("div",{className:" max-h-52 overflow-auto",children:null===t||void 0===t?void 0:t.map((function(e){return(0,a.jsx)(h,{onSelect:n,category:e,selected:!!(null===r||void 0===r?void 0:r.find((function(r){return(null===r||void 0===r?void 0:r.id)===(null===e||void 0===e?void 0:e.id)})))},e.id)}))})}var p=n(6410);function x(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function g(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return x(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j=function(e){var r=e.totalItems,n=e.perPage,t=void 0===n?21:n,i=e.onSelectPage,o=e.currentPage,c=Math.floor(r/t)+1,s=g(Array(c).keys());return(0,a.jsx)("div",{className:"flex w-full justify-center items-center pt-4",children:null===s||void 0===s?void 0:s.map((function(e){return(0,a.jsx)("div",{onClick:function(){return i(e+1)},className:"p-1 m-1 cursor-pointer rounded-lg\n           w-12 h-12 flex justify-center items-center text-lg\n           ".concat(o===e+1?" bg-primary text-white":"bg-white border border-grey text-grey","\n          "),children:e+1},e)}))})},y=n(2505);n(7042);var b=function(e){var r=e.value,n=e.onChange,t=e.min,i=void 0===t?0:t,o=e.max,c=void 0===o?100:o;return(0,a.jsxs)("div",{className:"p-2",children:[(0,a.jsx)(y.Z,{range:!0,allowCross:!1,min:i,max:c,value:r,onChange:n}),(0,a.jsxs)("div",{className:"flex justify-between pt-1",children:[(0,a.jsx)("span",{className:" text-grey",children:i}),(0,a.jsx)("span",{children:r&&r[0]}),(0,a.jsx)("span",{children:r&&r[1]}),(0,a.jsx)("span",{className:" text-grey",children:c})]})]})},w=n(1135),N=n(8586),S=n(8767),A=n(3072),C=n(9669),k=n.n(C);function P(e,r,n,t,i,a,o){try{var c=e[a](o),s=c.value}catch(u){return void n(u)}c.done?r(s):Promise.resolve(s).then(t,i)}function E(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var _=function(){function e(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e)}var r,n,t;return r=e,t=[{key:"getShop",value:function(e){var r,n=e.categories,t=e.brands,a=e.searchText,o=e.priceRange,c=e.page;return(r=i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k().post(A.j.product.shop,{categories:n,brands:t,searchText:a,priceRange:o,page:c}).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(t,i){var a=r.apply(e,n);function o(e){P(a,t,i,o,c,"next",e)}function c(e){P(a,t,i,o,c,"throw",e)}o(void 0)}))})()}},{key:"search",value:function(e){return k().get(A.j.product.search,{params:{name:e}}).then((function(e){return e.data}))}}],(n=null)&&E(r.prototype,n),t&&E(r,t),e}(),T=_;var I=function(e){var r=e.title,n=e.children,t=(0,o.useState)(!1),i=t[0],c=t[1];return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{onClick:function(){return c((function(e){return!e}))},className:" flex justify-between items-center cursor-pointer p-2 ",children:[(0,a.jsx)("span",{children:r}),i?(0,a.jsx)(u.rH8,{}):(0,a.jsx)(u.bTu,{})]}),i&&(0,a.jsx)("div",{children:n})]})};function O(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function X(e,r,n,t,i,a,o){try{var c=e[a](o),s=c.value}catch(u){return void n(u)}c.done?r(s):Promise.resolve(s).then(t,i)}function Z(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return O(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var z=function(){var e,r=(0,o.useState)([]),n=r[0],t=r[1],s=(0,o.useState)([]),u=s[0],l=s[1],d=(0,o.useState)(),v=d[0],h=d[1],x=(0,o.useState)(1),g=x[0],y=x[1],A=(0,o.useState)(""),C=A[0],k=A[1],P=function(e){var r=e.categories,n=e.brands,t=e.searchText,i=e.priceRange,a=e.page,o=(0,S.useQuery)(["shopProducts",r,n,i,a,t],(function(){return T.getShop({categories:r,brands:n,priceRange:i,searchText:t,page:a})}),{});return{data:o.data,isLoading:o.isLoading,isError:o.isError,refetch:o.refetch}}({categories:n.map((function(e){return e.id})),brands:u.map((function(e){return e.id})),page:g,searchText:C,priceRange:{min:v&&v[0]?v[0]:0,max:v&&v[1]?v[1]:0}}),E=P.data,_=P.isLoading,O=(P.refetch,function(){var e,r=(e=i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(r.target.value);case 1:case"end":return e.stop()}}),e)})),function(){var r=this,n=arguments;return new Promise((function(t,i){var a=e.apply(r,n);function o(e){X(a,t,i,o,c,"next",e)}function c(e){X(a,t,i,o,c,"throw",e)}o(void 0)}))});return function(e){return r.apply(this,arguments)}}());return(0,a.jsx)("div",{children:(0,a.jsxs)(c.W2,{children:[(0,a.jsxs)(c.X2,{children:[(0,a.jsxs)(c.JX,{sm:12,lg:3,md:3,className:"border rounded-md border-lightgreyx2",children:[(0,a.jsx)("div",{className:"flex p-2 w-full h-12",children:(0,a.jsx)(N.Z,{value:C,onChange:O,autoFocus:!0})}),(0,a.jsx)("div",{className:"mt-2 p-2 max-h-44 overflow-auto border-t border-lightgreyx2 rounded-sm ",children:(0,a.jsx)(I,{title:"Categories",children:(0,a.jsx)(m,{onSelect:function(e){n.find((function(r){return(null===r||void 0===r?void 0:r.id)===e.id}))?t((function(r){return r.filter((function(r){return r.id!==e.id}))})):t(Z(n).concat([e]))},selectedCategories:n})})}),(0,a.jsx)("div",{className:"mt-2 p-2 rounded-sm border-t border-lightgreyx2",children:(0,a.jsx)(I,{title:"Brands",children:(0,a.jsx)(f,{onSelect:function(e){u.find((function(r){return r.id===e.id}))?l((function(r){return r.filter((function(r){return r.id!==e.id}))})):l(Z(u).concat([e]))},selectedBrands:u})})}),(0,a.jsx)("div",{className:"mt-2 p-2 border-t border-lightgreyx2",children:(0,a.jsx)(I,{title:"Filter by price",children:(0,a.jsx)(b,{value:v||[0,1],onChange:h})})})]}),(0,a.jsx)(c.JX,{sm:12,lg:9,md:9,style:{minHeight:"100vh"},children:(0,a.jsx)(c.W2,{children:_?(0,a.jsx)(p.Z,{}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(c.X2,{children:null===E||void 0===E||null===(e=E.products)||void 0===e?void 0:e.map((function(e){return(0,a.jsx)(c.JX,{lg:4,md:4,sm:12,children:(0,a.jsx)("div",{className:" p-2",children:(0,a.jsx)(w.Z,{product:e},e.id)})},e.id)}))})})})})]}),(0,a.jsx)(c.X2,{children:!_&&E&&E.totalCount&&(0,a.jsx)(j,{totalItems:E.totalCount,perPage:21,onSelectPage:function(e){return y(e)},currentPage:g})})]})})}}},function(e){e.O(0,[206,774,888,179],(function(){return r=1083,e(e.s=r);var r}));var r=e.O();_N_E=r}]);